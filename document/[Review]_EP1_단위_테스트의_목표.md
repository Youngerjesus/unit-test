# 단위 테스트의 목표 (Review)

## 테스트의 목표는 뭔가? 

코드를 작성하는 행위는 소프트웨어에서 엔트로피 (entropy) 를 높이는 행위다.

이 작성한 코드 때문에 기존에는 발생하지 않았던 에러가 갑자기 생길수도 있다.

테스트는 이러한 상황에서 문제가 생겼다는 것을 알려줄 수 있는 `안전망` 같은 역할을 한다.

테스트를 통해서 우리는 코드를 더 작성할 수 있고 소프트웨어를 더 발전시킬 수 있다.

즉 테스트는 소프트웨어의 지속적인 성장을 위해서 존재한다.

테스트에 대한 오해가 있는데 테스트는 많다고 좋은게 아니다. 좋은 테스트가 많아야 한다.

테스트도 우리가 계속해서 유지해야 하는 비용이다. 테스트를 통해서 유의미한 정보를 얻도록 해야한다.

테스트도 고쳐서 리팩터링 해야하는 경우도 많은데 좋지 않은 테스트가 많다면 개발 비용만 늘어난다. 정보는 주지도 않으면서.


## 테스트 커버리지는 유의미한 지표가 아니다. 

테스트 스위트 (Test Suite) 품질 측정을 위해서 코드 커버리지나 분기 커버리지를 이용하는데 사실 이건 큰 의미 없다. 

이 지표들이 높다고 해서 시스템의 모든 가능한 결과를 검증한다고 볼 수 없다.

이 말은 코드를 실행한 후 내가 원하는 결과가 맞는지 검증하는게 없다. 그리고 문제가 생길 수 있는 여러가지 시나리오를 검증하는 것도 필요한데 이 테스트를 많이 작성했다고 해서 커버리지 지표가 높아지지 않는다. 

또 외부 라이브러리를 쓰는 경우 라이브러리에서 실행되는 모든 코드 경로를 따지지 않는다. 

성공적인 테스트 스위튼 다음과 같은 특징을 가진다.

- 개발 주기에 포함되어 있다. (개발 중간중간에 실행한다.)

- 코드 베이스에서 가장 중요한 부분을 다룬다. 즉 최소한의 유지비로 최대한의 가치를 다룬다. (i.e 도메인 모델과 관련된 로직.)

